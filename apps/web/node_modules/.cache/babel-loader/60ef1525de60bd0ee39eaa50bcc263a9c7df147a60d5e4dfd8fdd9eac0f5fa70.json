{"ast":null,"code":"var _jsxFileName = \"/Users/mairamelis/Desktop/gluwise/apps/web/src/components/ScannerComponent.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport { apiService } from '../services/api';\nimport ScanResultComponent from './ScanResultComponent';\nimport './ScannerComponent.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ScannerComponent = () => {\n  _s();\n  const [activeTab, setActiveTab] = useState('barcode');\n  const [loading, setLoading] = useState(false);\n  const [result, setResult] = useState(null);\n  const [error, setError] = useState(null);\n  const [barcodeInput, setBarcodeInput] = useState('');\n  const [textInput, setTextInput] = useState('');\n  const fileInputRef = useRef(null);\n  const handleScan = async () => {\n    var _fileInputRef$current, _fileInputRef$current2;\n    if (loading) return;\n    setLoading(true);\n    setError(null);\n    setResult(null);\n    try {\n      let scanResult;\n      switch (activeTab) {\n        case 'barcode':\n          if (!barcodeInput.trim()) {\n            throw new Error('Введите штрих-код');\n          }\n          scanResult = await apiService.scanBarcode(barcodeInput.trim());\n          break;\n        case 'text':\n          if (!textInput.trim()) {\n            throw new Error('Введите название продукта');\n          }\n          scanResult = await apiService.analyzeText(textInput.trim());\n          break;\n        case 'image':\n          const file = (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : (_fileInputRef$current2 = _fileInputRef$current.files) === null || _fileInputRef$current2 === void 0 ? void 0 : _fileInputRef$current2[0];\n          if (!file) {\n            throw new Error('Выберите изображение');\n          }\n          scanResult = await apiService.scanImage(file);\n          break;\n        default:\n          throw new Error('Неизвестный тип сканирования');\n      }\n      setResult(scanResult);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Произошла ошибка');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleImageSelect = event => {\n    var _event$target$files;\n    const file = (_event$target$files = event.target.files) === null || _event$target$files === void 0 ? void 0 : _event$target$files[0];\n    if (file) {\n      // Автоматически запускаем сканирование при выборе файла\n      setTimeout(handleScan, 100);\n    }\n  };\n  const clearResults = () => {\n    setResult(null);\n    setError(null);\n    setBarcodeInput('');\n    setTextInput('');\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"scanner-component\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"scanner-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u0421\\u043A\\u0430\\u043D\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u043E\\u0432\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0441\\u043F\\u043E\\u0441\\u043E\\u0431 \\u0430\\u043D\\u0430\\u043B\\u0438\\u0437\\u0430 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"scanner-tabs\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab ${activeTab === 'barcode' ? 'active' : ''}`,\n        onClick: () => setActiveTab('barcode'),\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"tab-icon\",\n          children: \"\\uD83D\\uDCCA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), \"\\u0428\\u0442\\u0440\\u0438\\u0445-\\u043A\\u043E\\u0434\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab ${activeTab === 'image' ? 'active' : ''}`,\n        onClick: () => setActiveTab('image'),\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"tab-icon\",\n          children: \"\\uD83D\\uDCF7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), \"\\u0424\\u043E\\u0442\\u043E\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab ${activeTab === 'text' ? 'active' : ''}`,\n        onClick: () => setActiveTab('text'),\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"tab-icon\",\n          children: \"\\uD83D\\uDD0D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), \"\\u041F\\u043E\\u0438\\u0441\\u043A\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"scanner-content\",\n      children: [activeTab === 'barcode' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"scan-method\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"barcode-input\",\n            children: \"\\u0428\\u0442\\u0440\\u0438\\u0445-\\u043A\\u043E\\u0434 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"barcode-input\",\n            type: \"text\",\n            placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0448\\u0442\\u0440\\u0438\\u0445-\\u043A\\u043E\\u0434 (\\u043D\\u0430\\u043F\\u0440\\u0438\\u043C\\u0435\\u0440: 1234567890123)\",\n            value: barcodeInput,\n            onChange: e => setBarcodeInput(e.target.value),\n            onKeyPress: e => e.key === 'Enter' && handleScan()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"scan-button\",\n          onClick: handleScan,\n          disabled: loading || !barcodeInput.trim(),\n          children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"spinner\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 19\n            }, this), \"\\u0421\\u043A\\u0430\\u043D\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435...\"]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\uD83D\\uDCCA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 19\n            }, this), \"\\u0421\\u043A\\u0430\\u043D\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0448\\u0442\\u0440\\u0438\\u0445-\\u043A\\u043E\\u0434\"]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this), activeTab === 'image' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"scan-method\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"image-upload\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            ref: fileInputRef,\n            type: \"file\",\n            accept: \"image/*\",\n            onChange: handleImageSelect,\n            style: {\n              display: 'none'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"upload-area\",\n            onClick: () => {\n              var _fileInputRef$current3;\n              return (_fileInputRef$current3 = fileInputRef.current) === null || _fileInputRef$current3 === void 0 ? void 0 : _fileInputRef$current3.click();\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"upload-icon\",\n              children: \"\\uD83D\\uDCF7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u041D\\u0430\\u0436\\u043C\\u0438\\u0442\\u0435 \\u0434\\u043B\\u044F \\u0432\\u044B\\u0431\\u043E\\u0440\\u0430 \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"upload-hint\",\n              children: \"\\u041F\\u043E\\u0434\\u0434\\u0435\\u0440\\u0436\\u0438\\u0432\\u0430\\u044E\\u0442\\u0441\\u044F: JPG, PNG, WEBP\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-indicator\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spinner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u0410\\u043D\\u0430\\u043B\\u0438\\u0437 \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u044F...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }, this), activeTab === 'text' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"scan-method\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"text-input\",\n            children: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"text-input\",\n            type: \"text\",\n            placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0430 (\\u043D\\u0430\\u043F\\u0440\\u0438\\u043C\\u0435\\u0440: \\u044F\\u0431\\u043B\\u043E\\u0447\\u043D\\u044B\\u0439 \\u0441\\u043E\\u043A)\",\n            value: textInput,\n            onChange: e => setTextInput(e.target.value),\n            onKeyPress: e => e.key === 'Enter' && handleScan()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"scan-button\",\n          onClick: handleScan,\n          disabled: loading || !textInput.trim(),\n          children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"spinner\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 19\n            }, this), \"\\u041F\\u043E\\u0438\\u0441\\u043A...\"]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\uD83D\\uDD0D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 19\n            }, this), \"\\u041D\\u0430\\u0439\\u0442\\u0438 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\"]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 11\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"error-icon\",\n          children: \"\\u274C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: clearResults,\n          className: \"clear-button\",\n          children: \"\\u041E\\u0447\\u0438\\u0441\\u0442\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 11\n      }, this), result && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"results-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"results-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"\\u0420\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442\\u044B \\u0430\\u043D\\u0430\\u043B\\u0438\\u0437\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: clearResults,\n            className: \"clear-button\",\n            children: \"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u043F\\u043E\\u0438\\u0441\\u043A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ScanResultComponent, {\n          result: result\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n};\n_s(ScannerComponent, \"qP9AKrRtw0kWoxhZsq/agI3gw2U=\");\n_c = ScannerComponent;\nexport default ScannerComponent;\nvar _c;\n$RefreshReg$(_c, \"ScannerComponent\");","map":{"version":3,"names":["React","useState","useRef","apiService","ScanResultComponent","jsxDEV","_jsxDEV","Fragment","_Fragment","ScannerComponent","_s","activeTab","setActiveTab","loading","setLoading","result","setResult","error","setError","barcodeInput","setBarcodeInput","textInput","setTextInput","fileInputRef","handleScan","_fileInputRef$current","_fileInputRef$current2","scanResult","trim","Error","scanBarcode","analyzeText","file","current","files","scanImage","err","message","handleImageSelect","event","_event$target$files","target","setTimeout","clearResults","value","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","htmlFor","id","type","placeholder","onChange","e","onKeyPress","key","disabled","ref","accept","style","display","_fileInputRef$current3","click","_c","$RefreshReg$"],"sources":["/Users/mairamelis/Desktop/gluwise/apps/web/src/components/ScannerComponent.tsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { apiService, ScanResult } from '../services/api';\nimport ScanResultComponent from './ScanResultComponent';\nimport './ScannerComponent.css';\n\nconst ScannerComponent: React.FC = () => {\n  const [activeTab, setActiveTab] = useState<'barcode' | 'image' | 'text'>('barcode');\n  const [loading, setLoading] = useState(false);\n  const [result, setResult] = useState<ScanResult | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [barcodeInput, setBarcodeInput] = useState('');\n  const [textInput, setTextInput] = useState('');\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const handleScan = async () => {\n    if (loading) return;\n\n    setLoading(true);\n    setError(null);\n    setResult(null);\n\n    try {\n      let scanResult: ScanResult;\n\n      switch (activeTab) {\n        case 'barcode':\n          if (!barcodeInput.trim()) {\n            throw new Error('Введите штрих-код');\n          }\n          scanResult = await apiService.scanBarcode(barcodeInput.trim());\n          break;\n\n        case 'text':\n          if (!textInput.trim()) {\n            throw new Error('Введите название продукта');\n          }\n          scanResult = await apiService.analyzeText(textInput.trim());\n          break;\n\n        case 'image':\n          const file = fileInputRef.current?.files?.[0];\n          if (!file) {\n            throw new Error('Выберите изображение');\n          }\n          scanResult = await apiService.scanImage(file);\n          break;\n\n        default:\n          throw new Error('Неизвестный тип сканирования');\n      }\n\n      setResult(scanResult);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Произошла ошибка');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleImageSelect = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (file) {\n      // Автоматически запускаем сканирование при выборе файла\n      setTimeout(handleScan, 100);\n    }\n  };\n\n  const clearResults = () => {\n    setResult(null);\n    setError(null);\n    setBarcodeInput('');\n    setTextInput('');\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n\n  return (\n    <div className=\"scanner-component\">\n      <div className=\"scanner-header\">\n        <h3>Сканирование продуктов</h3>\n        <p>Выберите способ анализа продукта</p>\n      </div>\n\n      {/* Tabs */}\n      <div className=\"scanner-tabs\">\n        <button\n          className={`tab ${activeTab === 'barcode' ? 'active' : ''}`}\n          onClick={() => setActiveTab('barcode')}\n        >\n          <span className=\"tab-icon\">📊</span>\n          Штрих-код\n        </button>\n        <button\n          className={`tab ${activeTab === 'image' ? 'active' : ''}`}\n          onClick={() => setActiveTab('image')}\n        >\n          <span className=\"tab-icon\">📷</span>\n          Фото\n        </button>\n        <button\n          className={`tab ${activeTab === 'text' ? 'active' : ''}`}\n          onClick={() => setActiveTab('text')}\n        >\n          <span className=\"tab-icon\">🔍</span>\n          Поиск\n        </button>\n      </div>\n\n      {/* Scanner Content */}\n      <div className=\"scanner-content\">\n        {activeTab === 'barcode' && (\n          <div className=\"scan-method\">\n            <div className=\"input-group\">\n              <label htmlFor=\"barcode-input\">Штрих-код продукта</label>\n              <input\n                id=\"barcode-input\"\n                type=\"text\"\n                placeholder=\"Введите штрих-код (например: 1234567890123)\"\n                value={barcodeInput}\n                onChange={(e) => setBarcodeInput(e.target.value)}\n                onKeyPress={(e) => e.key === 'Enter' && handleScan()}\n              />\n            </div>\n            <button \n              className=\"scan-button\"\n              onClick={handleScan}\n              disabled={loading || !barcodeInput.trim()}\n            >\n              {loading ? (\n                <>\n                  <div className=\"spinner\"></div>\n                  Сканирование...\n                </>\n              ) : (\n                <>\n                  <span>📊</span>\n                  Сканировать штрих-код\n                </>\n              )}\n            </button>\n          </div>\n        )}\n\n        {activeTab === 'image' && (\n          <div className=\"scan-method\">\n            <div className=\"image-upload\">\n              <input\n                ref={fileInputRef}\n                type=\"file\"\n                accept=\"image/*\"\n                onChange={handleImageSelect}\n                style={{ display: 'none' }}\n              />\n              <div \n                className=\"upload-area\"\n                onClick={() => fileInputRef.current?.click()}\n              >\n                <div className=\"upload-icon\">📷</div>\n                <p>Нажмите для выбора изображения</p>\n                <p className=\"upload-hint\">Поддерживаются: JPG, PNG, WEBP</p>\n              </div>\n            </div>\n            {loading && (\n              <div className=\"loading-indicator\">\n                <div className=\"spinner\"></div>\n                <span>Анализ изображения...</span>\n              </div>\n            )}\n          </div>\n        )}\n\n        {activeTab === 'text' && (\n          <div className=\"scan-method\">\n            <div className=\"input-group\">\n              <label htmlFor=\"text-input\">Название продукта</label>\n              <input\n                id=\"text-input\"\n                type=\"text\"\n                placeholder=\"Введите название продукта (например: яблочный сок)\"\n                value={textInput}\n                onChange={(e) => setTextInput(e.target.value)}\n                onKeyPress={(e) => e.key === 'Enter' && handleScan()}\n              />\n            </div>\n            <button \n              className=\"scan-button\"\n              onClick={handleScan}\n              disabled={loading || !textInput.trim()}\n            >\n              {loading ? (\n                <>\n                  <div className=\"spinner\"></div>\n                  Поиск...\n                </>\n              ) : (\n                <>\n                  <span>🔍</span>\n                  Найти продукт\n                </>\n              )}\n            </button>\n          </div>\n        )}\n\n        {/* Error Display */}\n        {error && (\n          <div className=\"error-message\">\n            <span className=\"error-icon\">❌</span>\n            <span>{error}</span>\n            <button onClick={clearResults} className=\"clear-button\">\n              Очистить\n            </button>\n          </div>\n        )}\n\n        {/* Results */}\n        {result && (\n          <div className=\"results-section\">\n            <div className=\"results-header\">\n              <h4>Результаты анализа</h4>\n              <button onClick={clearResults} className=\"clear-button\">\n                Новый поиск\n              </button>\n            </div>\n            <ScanResultComponent result={result} />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ScannerComponent;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}